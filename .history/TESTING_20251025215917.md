# üöÄ Digital Twin Project - Testing Guide

## ‚úÖ What's Working Now

### 1. Web UI (http://localhost:3000)

- Beautiful chat interface with RAG-powered responses
- Database reload button (39 vectors loaded)
- Real-time query processing (~1-2s response time)
- Enhanced RAG with LLM query preprocessing
- Chat history sidebar
- Sample questions for quick testing

### 2. MCP Server (Claude Desktop Integration)

- 5 powerful tools available in Claude Desktop:
  - `query_digital_twin` - Ask anything about your profile
  - `get_technical_skills` - List all technical skills
  - `get_work_experience` - Detailed work history
  - `get_projects` - Portfolio projects
  - `analyze_job_fit` - Match job descriptions

### 3. API Endpoints

- `GET /api/mcp/query` - Check database status
- `POST /api/mcp/query` - Query the digital twin
- `DELETE /api/mcp/reload` - Reload vector database

## üß™ How to Test

### Test the Web UI

```bash
# 1. Start the dev server (if not running)
cd /Users/diwanmalla/Desktop/digital-twin-worshop
pnpm dev

# 2. Open in browser
open http://localhost:3000

# 3. Try these questions:
# - "Who are you?"
# - "Tell me about your experience with React"
# - "What are your technical skills?"
# - "Describe your work at Barnamala Tech"
```

### Test the MCP Server

```bash
# 1. Copy config to Claude Desktop
./setup_mcp.sh

# 2. Restart Claude Desktop app

# 3. In Claude Desktop, ask:
# - "Use the digital twin to tell me about Diwan's experience"
# - "Query my digital twin about React skills"
# - "Get my technical skills"
# - "Analyze this job description..." (paste a JD)
```

### Test the Python RAG Script

```bash
# Activate venv and run the standalone script
source venv/bin/activate
python digitaltwin_rag.py

# Try asking:
# - Tell me about your work experience
# - What are your technical skills?
# - Describe your career goals
```

### Test Individual MCP Server Tools

```bash
# Use the interactive tester
source venv/bin/activate
python test_mcp_tools.py

# Select tools to test:
# 1. query_digital_twin
# 2. get_technical_skills
# 3. get_work_experience
# 4. get_projects
# 5. analyze_job_fit
```

### Test API Directly

```bash
# Check database status
curl http://localhost:3000/api/mcp/query

# Query the digital twin
curl -X POST http://localhost:3000/api/mcp/query \
  -H "Content-Type: application/json" \
  -d '{"question": "What are your technical skills?"}'

# Reload database
curl -X DELETE http://localhost:3000/api/mcp/reload
```

## üìä Current Performance Metrics

From the terminal logs, here's what we're seeing:

- **Vector Database**: 39 chunks indexed
- **Query Enhancement**: ~500ms (LLM preprocessing)
- **Vector Search**: ~700-1200ms
- **Response Formatting**: ~300-700ms
- **Total Query Time**: ~1-2.5 seconds
- **Top Match Scores**: 0.79-0.85 (excellent relevance)

## üéØ Next Steps to Test

After implementing each new feature:

### 2. GitHub Auto-Sync

```bash
# Will add endpoint: POST /api/integrations/github/sync
curl -X POST http://localhost:3000/api/integrations/github/sync
```

### 3. Streaming Responses

```bash
# Watch tokens stream in real-time
curl -N http://localhost:3000/api/mcp/query/stream \
  -H "Content-Type: application/json" \
  -d '{"question": "Tell me about your experience"}'
```

### 4. Voice Interface

```bash
# Test in browser - will have microphone button
open http://localhost:3000
# Click mic icon, speak your question
```

### 5. Analytics

```bash
# View analytics dashboard
open http://localhost:3000/analytics

# Get metrics via API
curl http://localhost:3000/api/analytics/metrics
```

### 6. Job Matching

```bash
# Test job fit analyzer
curl -X POST http://localhost:3000/api/mcp/analyze-job \
  -H "Content-Type: application/json" \
  -d '{"jobDescription": "Looking for Full-Stack developer with React..."}'
```

## üêõ Troubleshooting

### If queries are slow:

- Check Groq API key in `.env`
- Verify Upstash Vector connection
- Look for errors in terminal output

### If MCP server doesn't work in Claude:

```bash
# Check if config is correct
cat ~/Library/Application\ Support/Claude/claude_desktop_config.json

# Test Python server directly
source venv/bin/activate
python src/digital_twin_mcp_server.py
# (Press Ctrl+C to stop)
```

### If database is empty:

```bash
# Reload using web UI button
# Or via API:
curl -X DELETE http://localhost:3000/api/mcp/reload
```

## üéâ Success Indicators

You know it's working when:

- ‚úÖ Web UI loads at http://localhost:3000
- ‚úÖ Database shows "39 vectors" loaded
- ‚úÖ Queries return detailed, contextual answers
- ‚úÖ Response time is under 3 seconds
- ‚úÖ Claude Desktop shows digital-twin tools
- ‚úÖ Sources are shown with relevance scores

## üìù Quick Test Checklist

- [ ] Web UI loads and looks good
- [ ] Can ask questions and get responses
- [ ] Database reload button works
- [ ] Chat history appears in sidebar
- [ ] Sample questions populate input
- [ ] MCP server works in Claude Desktop
- [ ] Python RAG script runs standalone
- [ ] API endpoints respond correctly
- [ ] Performance is acceptable (<3s)
- [ ] Responses are relevant and detailed
